version: '3.8'

# Test Scenario: Default DC Name
# - No CASSANDRA_DC set (should default to axonopsdb_dc1)
# - Expected: keyspace init uses axonopsdb_dc1

services:
  cassandra-test-dc:
    image: axondb-timeseries:latest
    container_name: cassandra-test-dc
    hostname: cassandra-test-dc
    networks:
      - test-net
    environment:
      - CASSANDRA_CLUSTER_NAME=TestDefaultDC
      - CASSANDRA_HEAP_SIZE=2G
      # NOTE: CASSANDRA_DC intentionally NOT set to test default value
    volumes:
      - test-dc-data:/var/lib/cassandra
      - test-dc-logs:/var/log/cassandra
    ports:
      - "9042:9042"

networks:
  test-net:
    driver: bridge

volumes:
  test-dc-data:
  test-dc-logs:
